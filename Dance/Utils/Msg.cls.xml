<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="Dance.Utils.Msg">
<Abstract>1</Abstract>
<TimeCreated>63289,61228.306082</TimeCreated>

<Method name="GetErrorStatus">
<Description>
Get error status by key</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>errorKey:%String,additionalMsg:%String=""</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[	quit $system.Status.Error(5001, ..GetMsg(errorKey)_" "_additionalMsg)
]]></Implementation>
</Method>

<Method name="GetMsg">
<Description>
Get localized message</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>key:%String</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	quit $GET(^Dance.Utils.Msg(key, $$$SessionLanguage), "No msg for key = "_key)
]]></Implementation>
</Method>

<Method name="SetMsg">
<Description>
Set localized message</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>lang:%String,key:%String,value:%String</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	set ^Dance.Utils.Msg(key, lang) = value
	quit $$$OK
]]></Implementation>
</Method>

<Method name="SetMsgForLangs">
<Description>
Set localized messages for langs</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>key:%String,ruValue:%String,enValue:%String,deValue:%String</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[
	do ..SetMsg("ru", key, ruValue)
	
	if (enValue = "") set enValue = key
	do ..SetMsg("en", key, enValue)
	
	if (deValue = "") set deValue = key
	do ..SetMsg("de", key, deValue)
	
	quit $$$OK
]]></Implementation>
</Method>

<Method name="Init">
<Description>
do ##class(Dance.Utils.Msg).Init()</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	
	do ..SetMsgForLangs("error_CoupleDifferentClubs",
						"Партнер и партнерша должны быть из одного клуба!",
						"Male partner and female partner must be from the same club!",
						"Male partner and female partner must be from the same club!")
						
						
	
	do ..SetMsgForLangs("error_RegistrationClosed",
						"Добавление участника невозможно. Регистрация в турнир уже завершена.",
						"",
						"")
						
	do ..SetMsgForLangs("error_ConflictCompetitionIsFound",
						"Обнаружены конфликтные группы.",
						"",
						"")

	do ..SetMsgForLangs("error_ParticipantNotCreated",
						"При добавлении участника возникла ошибка.",
						"",
						"")

	do ..SetMsgForLangs("error_FatalError",
						"Произошла фатальная ошибка.",
						"",
						"")

	do ..SetMsgForLangs("error_ConnectionWDSFControllerFailed",
						"Соединение с WDSF контроллером завершилось ошибкой.",
						"",
						"")

	do ..SetMsgForLangs("error_DancerClassNotFound",
						"Класс танцора не найден.",
						"",
						"")

	do ..SetMsgForLangs("error_PersonUDSRNotFound",
						"Спортсмен СТСР не найден.",
						"",
						"")

	do ..SetMsgForLangs("error_CreateLocalization",
						"Создание мультиязычного поля невозможно",
						"",
						"")

	do ..SetMsgForLangs("error_DeleteLocalization",
						"Удаление мультиязычного поля невозможно.",
						"",
						"")

	do ..SetMsgForLangs("error_SaveLocalization",
						"Сохранение мультиязычного поля невозможно.",
						"",
						"")
						
	do ..SetMsgForLangs("error_NoPrivilegeForDelete",
						"Нет привилегий для удаления.",
						"",
						"")
	
	do ..SetMsgForLangs("error_NoPrivilegeForUpdate",
						"Нет привилегий для обновления.",
						"",
						"")
	
	do ..SetMsgForLangs("error_BadResponseStatus",
						"Ошибочный статус ответа сервера.",
						"",
						"")
						
	
	do ..SetMsgForLangs("error_TournamentDeactivate",
						"Произошла ошибка при удалении турнира.",
						"",
						"")
											
	
	do ..SetMsgForLangs("error_CompetitionDeactivate",
						"Произошла ошибка при удалении группы.",
						"",
						"")
						
	do ..SetMsgForLangs("error_ParticipantDeactivate",
						"Произошла ошибка при удалении регистрации.",
						"",
						"")
						
	do ..SetMsgForLangs("error_TournamentSave",
						"Турнир не сохранен.",
						"",
						"")
						
	do ..SetMsgForLangs("error_CompetitionSave",
						"Группа не сохранена.",
						"",
						"")
						
	do ..SetMsgForLangs("error_FeedBackSave",
						"Отзыв не сохранен.",
						"",
						"")


	do ..SetMsgForLangs("error_Recorder_AccessDenied",
						"Регистратору запрещен доступ к турниру.",
						"",
						"")
						
	q $$$OK
]]></Implementation>
</Method>

<UDLText name="T">
<Content><![CDATA[
/*
SaveTournamentError

NoPrivilegeForDelete
NoPrivilegeForUpdate
*/
]]></Content>
</UDLText>
</Class>
</Export>
