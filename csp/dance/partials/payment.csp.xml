<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="dance/partials/payment.csp" application="/csp/dance/" default="1"><![CDATA[
<div class="row-fluid">
	<pre ng-bind="page.tournament.fullName" style="text-align: center; font-weight: bold; font-size: 1.3em !important;">
	</pre>
</div> 
<br>
<div class="row-fluid" style="text-align: center;">
	<a ng-href="#/tournament/{{page.tournament.id}}/registration" class="cellLink" title="{{'Регистрация участников на турнир'|localize}}" ng-bind="'Регистрация участников »'|localize"></a>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<a ng-href="#/tournament/{{page.tournament.id}}/competitions" class="cellLink" title="{{'Список всех групп турнира'|localize}}" ng-bind="'Cписок всех групп  »'|localize"></a>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<a ng-href="#/tournament/{{page.tournament.id}}/participants" class="cellLink" title="{{'Список всех уникальных участников турнира'|localize}}" ng-bind="'Список всех участников »'|localize"></a>
</div>
<br>


<stcalert data="page.registrationAlert" style="margin: 10px 0 20px 0;"/>

<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Щелчком мыши выберите необходимые группы для передачи данных в платежную систему.'|localize}}</p>

<!-- Competitions -->
<div class="row-fluid" style="padding-top: 10px;">
	<div class="span8">
		<span style="font-weight: bold;" ng-show="page.couple.man.id==page.couple.woman.id" ng-bind="'Группы участника ″' + page.couple.man.lastName + ' ' + page.couple.man.firstName +  '″; ' + 'Клуб' + ' ″' + page.couple.otherInfo.club + '″'"></span>
		<span style="font-weight: bold;" ng-hide="page.couple.man.id==page.couple.woman.id" ng-bind="'Группы пары ″' + page.couple.man.lastName + ' ' + page.couple.man.firstName + ' - ' + page.couple.woman.lastName + ' ' + page.couple.woman.firstName +  '″; ' + 'Клуб' + ' ″' + page.couple.otherInfo.club + '″'"></span>
	</div>
	<div class="span4">
		<div class="btn-group pull-right">
			<button type="button" class="btn btn-mini btnRadio" ng-model="pageStore.tournamentPayment.gridCompetitions.tableShortView" btn-radio="true" ng-bind="'Коротко'" title="{{'Скрывать дополнительные столбцы'|localize}}" ng-click="page.competitionTable.setHiddenCoulumns(true)"></button>
			<button type="button" class="btn btn-mini btnRadio" ng-model="pageStore.tournamentPayment.gridCompetitions.tableShortView" btn-radio="false" ng-bind="'Детально'" title="{{'Отображать дополнительные столбцы'|localize}}" ng-click="page.competitionTable.setHiddenCoulumns(false)"></button>
		</div>
	</div> 
</div>
<div class="row-fluid">
	<stcgrid
    	grid="pageStore.tournamentDetails.gridCompetitions"
	    table-class="table table-bordered table-hover"
	    caption="''"
	    columns="page.competitionTable.columns"
	    items="page.competitionTable.items"
	    properties="page.competitionTable.properties"
	    update-items="page.competitionTable.loadItems(pageCurr, pageSize, sqlName, isDown, searchSqlName, searchText)"

	    page-curr="page.competitionTable.pageCurr"
	    page-total="page.competitionTable.pageTotal"
	    page-size="page.competitionTable.pageSize"
	    navigator-visible="false"
	    search-hide="true"

	    selectable="true"
	    selected-items="page.competitionTable.selectedItems"
	    multi-select-mode="page.competitionTable.multiSelectMode"
		on-select="page.competitionTable.onSelect(item)"
		
		action-column-visible="false"
		forcibly-update="page.competitionTable.forciblyUpdate"
	/>
</div>			

<div class="row-fluid">
	<div class="span4">
		<div>
			<danceplat-udsr-pay 
				id="danceplatUdsrPay"

				ng-hide="page.couple.man.numberWDSF != '' && page.couple.man.numberUDSR == ''"
				
				trn-id="page.tournament.idInternal"
				man-number-udsr="page.couple.man.numberUDSR"
				woman-number-udsr="page.couple.woman.numberUDSR"
				competitions="page.competitionList"
				hide-all="true"
				btn-name="'Оплатить на danceplat.ru'|localize"/>
		</div>
		<div>
			<danceplat-other-pay 
				id="danceplatOtherPay"
				
				ng-show="page.couple.man.numberWDSF != '' && page.couple.man.numberUDSR == ''"

				trn-id="page.tournament.idInternal"

				male-age="page.couple.man.dob"
				male-last-name="page.couple.man.lastName"
				male-first-name="page.couple.man.firstName"

				female-age="page.couple.woman.dob"
				female-last-name="page.couple.woman.lastName"
				female-first-name="page.couple.woman.firstName"

				country="page.couple.otherInfo.country.name"
				city="page.couple.otherInfo.cityName"
				club="page.couple.otherInfo.club"
				trainer="page.couple.otherInfo.mainTrainer"

				competitions="page.competitionList"
				hide-all="true"
				btn-name="'Оплатить на danceplat.ru'|localize"/>
		</div>
	</div>
	<div class="span8">
		<span class="pull-right" ng-bind="('Selected'|localize) + ' ' + page.competitionTable.selectedItems.length + ' ' + ('competitions of'|localize) + ' ' + page.competitionTable.itemsTotal"></span>
	</div>
</div>	
<br>
<stcalert data="page.alert"/>

<p ng-show="page.conflictTable.manCompetitions.length != 0 || page.conflictTable.womanCompetitions.length != 0" style="text-align: justify;">[ <font COLOR="RED"><b>!</b></font> ] {{'Конфликтные группы участника - это группы из других турниров, в которых зарегистрирован участник. Дата конфликтной группы совпадает с одной из дат групп выбранного турнира(заголовок сверху). Публикация списка конфликтных групп предназначена лишь для информирования участников.'|localize}}</p>

<div class="row-fluid" ng-show="page.conflictTable.manCompetitions.length != 0">
	<stcgrid
    	grid="pageStore.tournamentDetails.gridManCompetitions"
	    table-class="table table-bordered table-hover"
	    caption="'Конфликтные группы для ' + '\'' + page.couple.man.lastName + ' ' + page.couple.man.firstName + '\''"
	    columns="page.conflictTable.columns"
	    items="page.conflictTable.manCompetitions"
	    properties="page.conflictTable.properties"
	    page-curr="1"
	    page-total="1"
	    page-size="100"
	    search-hide="true"

	   	selected-items="page.conflictTable.selectedItems"
	    multi-select-mode="page.conflictTable.multiSelectMode"

	    on-select-cell="page.conflictTable.onSelectCell(item, property)"
	/>
</div>		

<div class="row-fluid"  ng-show="page.conflictTable.womanCompetitions.length != 0 && page.couple.man.id != page.couple.woman.id">
	<stcgrid
    	grid="pageStore.tournamentDetails.gridWomanCompetitions"
	    table-class="table table-bordered table-hover"
	    caption="'Конфликтные группы для ' + '\'' + page.couple.woman.lastName + ' ' + page.couple.woman.firstName + '\''"
	    columns="page.conflictTable.columns"
	    items="page.conflictTable.womanCompetitions"
	    properties="page.conflictTable.properties"
	    page-curr="1"
	    page-total="1"
	    page-size="100"
	    search-hide="true"

	   	selected-items="page.conflictTable.selectedItems"
	    multi-select-mode="page.conflictTable.multiSelectMode"

	    on-select-cell="page.conflictTable.onSelectCell(item, property)"
	/>
</div>		






]]></CSP>
</Export>
