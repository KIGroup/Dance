<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="dance/partials/registration.csp" application="/csp/dance/" default="1"><![CDATA[

<div class="row-fluid">
	<pre ng-bind="page.tournament.fullName" style="text-align: center; font-weight: bold; font-size: 1.3em !important;">
	</pre>
</div>
<br>
<div class="row-fluid" style="text-align: center;">
	<a ng-href="#/tournament/{{page.tournament.id}}/competitions" class="cellLink" title="{{'Список всех групп турнира'|localize}}" ng-bind="'Cписок всех групп »'|localize"></a>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<a ng-href="#/tournament/{{page.tournament.id}}/participants" class="cellLink" title="{{'Список всех уникальных участников турнира'|localize}}" ng-bind="'Список всех участников »'|localize"></a>
</div>

<br>

<stcalert data="page.tournamentAlert" style="margin-bottom: 25px;"/>

<div class="row-fluid" ng-show="page.tournament.tabUDSRAllowed || page.tournament.tabWDSFAllowed || page.tournament.tabOtherAllowed">
	 <tabset>
		<!--================================================================================================================================== -->
		<!-- 													UDSR COUPLE 																   -->
		<!--================================================================================================================================== -->
		<tab heading="{{'Регистрация СТСР'|localize}}" active="page.udsrCouple.tabActive" title="{{page.udsrCouple.tabDisabled ? ('Чтобы разблокировать вкладку нажмите ″Назад″'|localize) : ('Регистрация участников по СТСР номерам'|localize)}}" disabled="page.udsrCouple.tabDisabled" select="page.coupleType='udsr'; page.competitionTable.refresh()" ng-show="page.tournament.tabUDSRAllowed">
			<!-- Search form -->
			<form name="form_udsrCouple" style="margin: 0;" ng-hide="page.udsrCouple.exists">
				<div class="row-fluid" style="margin-bottom: 5px;">
					<label ng-bind="'Номера классификационных книжек СТСР'|localize" style="font-weight: bold;"></label>
				</div>
				<div class="row-fluid">
					<input type="text" style="height: 16px!important;line-height: 16px!important; width: 150px;" placeholder="{{'Номер партнера'|localize}}" ng-model="page.udsrCouple.man.min"/>
					<input type="text" style="height: 16px!important;line-height: 16px!important; width: 150px;" placeholder="{{'Номер партнерши'|localize}}" ng-model="page.udsrCouple.woman.min"/>
					<button class="btn btn-small" style="margin-bottom: 10px;" ng-disabled="!form_udsrCouple.$valid || page.wdsfCouple.processingImgVisible" ng-click="page.udsrCouple.search(page.udsrCouple.man.min, page.udsrCouple.woman.min)"><i class="fa fa-search"></i>&nbsp;&nbsp;{{'Поиск'|localize}}</button>					
					<button class="btn btn-small" style="margin-bottom: 10px;" ng-disabled="!form_udsrCouple.$dirty || page.wdsfCouple.processingImgVisible" ng-click="page.udsrCouple.clear()"><i class="fa fa-eraser"></i>&nbsp;&nbsp;{{'Очистить'|localize}}</button>						
					<img ng-show="page.udsrCouple.processingImgVisible" style="padding: 5px 5px 13px 5px;" src="img/loader2.gif"/>
				</div>
				<div class="row-fluid" style="padding-top: 12px; padding-bottom: 2px;">
					<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Регистрация осуществляется по номерам классификационных книжек и на основании информации Базы данных спортсменов "Союза танцевального спорта России" на момент регистрации.'|localize}}</p>
					<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Для регистрации в \"соло\" заполните только одно поле.'|localize}}</p> 
				</div>
			</form>
			<!-- Couple data -->
			<div class="row-fluid" ng-show="page.udsrCouple.exists" >
				<!-- Man -->
				<div class="span4">
					<div class="row-fluid" style="margin-bottom: 5px;">
						<label ng-bind="'Партнер'|localize"  style="font-weight: bold;" ng-hide="page.udsrCouple.man.id == page.udsrCouple.woman.id"></label>
						<label ng-bind="'Участник'|localize" style="font-weight: bold;" ng-show="page.udsrCouple.man.id == page.udsrCouple.woman.id"></label>
					</div>
					<p ng-hide="page.udsrCouple.man.numberUDSR==''">
						<span class="spnTitle" ng-bind="'Номер СТСР'|localize"></span>: <span ng-bind="page.udsrCouple.man.numberUDSR"></span>
					</p>
					<p ng-hide="page.udsrCouple.man.numberWDSF==''">
						<span class="spnTitle" ng-bind="'Номер WDSF'|localize"></span>: <span ng-bind="page.udsrCouple.man.numberWDSF"></span>
					</p>
					<p><span class="spnTitle" ng-bind="'Фамилия, Имя'|localize"></span>: <span ng-bind="page.udsrCouple.man.lastName + ' ' + page.udsrCouple.man.firstName"></span></p>
					<p><span class="spnTitle" ng-bind="'Дата рождения'|localize"></span>: <span ng-bind="page.udsrCouple.man.dob|convertCacheDate:('d MMMM y'|localize)"></span></p>
					<p><span class="spnTitle" ng-bind="'Класс'|localize"></span>: <span ng-show="page.udsrCouple.man.stClass.name" ng-bind="('Ст: '|localize) + page.udsrCouple.man.stClass.name"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span ng-show="page.udsrCouple.man.laClass.name" ng-bind="('Ла: '|localize) + page.udsrCouple.man.laClass.name"></span></p>
				
					<button type="button" ng-show="page.udsrCouple.exists" style="margin-top: 25px;" class="btn btn-small" ng-click="page.udsrCouple.clear()"><i class="fa fa-chevron-left"></i>&nbsp;&nbsp;{{'Назад'|localize}}</button>
				    <button type="button" ng-show="page.udsrCouple.exists" title="{{page.competitionTable.selectedItems.length==0 ? ('Выберите группы!'|localize) :''}}" style="margin-top: 25px;" class="btn btn-small" ng-click="page.openConfirmDlg('udsr', page.udsrCouple.man, page.udsrCouple.woman, page.udsrCouple.otherInfo, page.udsrCouple.register)" ng-disabled="page.competitionTable.selectedItems.length==0">
				    	<i class="fa fa-check" ng-hide="page.competitionTable.selectedItems.length==0"></i>
				    	<i class="fa fa-ban" ng-show="page.competitionTable.selectedItems.length==0"></i>
				    	&nbsp;&nbsp;{{'Регистрация'|localize}}
				    </button>
				</div>
				<!-- Woman -->
				<div class="span4" ng-hide="page.udsrCouple.man.id == page.udsrCouple.woman.id">
					<div class="row-fluid" style="margin-bottom: 5px;">
						<label ng-bind="'Партнерша'|localize" style="font-weight: bold;"></label>
					</div>
					<p ng-hide="page.udsrCouple.woman.numberUDSR==''">
						<span class="spnTitle" ng-bind="'Номер СТСР'|localize"  ></span>: <span ng-bind="page.udsrCouple.woman.numberUDSR"></span>
					</p>
					<p ng-hide="page.udsrCouple.woman.numberWDSF==''">
						<span class="spnTitle" ng-bind="'Номер WDSF'|localize"  ></span>: <span ng-bind="page.udsrCouple.woman.numberWDSF"></span>
					</p>
					<p><span class="spnTitle" ng-bind="'Фамилия, Имя'|localize"></span>: <span ng-bind="page.udsrCouple.woman.lastName + ' ' + page.udsrCouple.woman.firstName"></span></p>
					<p><span class="spnTitle" ng-bind="'Дата рождения'|localize"></span>: <span ng-bind="page.udsrCouple.woman.dob|convertCacheDate:('d MMMM y'|localize)"></span></p>
					<p><span class="spnTitle" ng-bind="'Класс'|localize"        ></span>: <span ng-show="page.udsrCouple.woman.stClass.name" ng-bind="('Ст: '|localize) + page.udsrCouple.woman.stClass.name"></span>&nbsp;&nbsp;&nbsp;<span ng-show="page.udsrCouple.woman.laClass.name" ng-bind="'Ла: ' + page.udsrCouple.woman.laClass.name"></span></p>
				</div>
				<!-- Other info -->
				<div class="span4">
					<div class="row-fluid" style="margin-bottom: 5px;">
						<label ng-bind="'Дополнительная информация'|localize" style="font-weight: bold;"></label>
					</div>
					<p><span class="spnTitle" ng-bind="'Страна'|localize"></span>: <span ng-bind="page.udsrCouple.otherInfo.country.name"></span></p>
					<p><span class="spnTitle" ng-bind="'Город'|localize"></span>: <span ng-bind="page.udsrCouple.otherInfo.city"></span></p>
					<p><span class="spnTitle" ng-bind="'Класс'|localize"></span>: <span ng-bind="page.udsrCouple.otherInfo.club"></span></p>
					<p><span class="spnTitle" ng-bind="'Главный тренер'|localize"></span>: <span ng-bind="page.udsrCouple.otherInfo.mainTrainer"></span></p>
					<p><span class="spnTitle" ng-bind="'Другие тренеры'|localize"></span>: <span ng-bind="page.udsrCouple.otherInfo.otherTrainers"></span></p>
				</div>
				<div class="span4" ng-show="page.udsrCouple.man.id == page.udsrCouple.woman.id">
				</div>
			</div>
			<div class="row-fluid" ng-show="page.udsrCouple.exists" style="padding-top: 20px; padding-bottom: 0px;">
				<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Щелчком мыши выберите группы, в которые необходимо зарегистрировать пару.'|localize}}</p>
				<p>[ <font COLOR="RED"><b>!</b></font> ] {{'В списке не отображены группы, в которых данная пара уже зарегистрирована.'|localize}} <a ng-show="page.coupleOtherInfo.id && page.coupleOtherInfo.competitionsCount > 0" href="" ng-click="page.showCoupleGroups(page.tournament.id, page.coupleOtherInfo.id)" class="cellLink" ng-bind="('Перейти к списку групп пары / участника ('|localize) + page.coupleOtherInfo.competitionsCount + ') »'"></a></p>  
			</div>
			<stcalert data="page.udsrCouple.alert" style="margin-top: 25px;"/>
		</tab>
		<!--================================================================================================================================== -->
		<!-- 													WDSF COUPLE     															   -->
		<!--================================================================================================================================== -->
		<tab heading="{{'Регистрация WDSF'|localize}}" active="page.wdsfCouple.tabActive" title="{{page.wdsfCouple.tabDisabled ? ('Чтобы разблокировать вкладку нажмите ″Назад″'|localize) : ('Регистрация участников по WDSF номерам'|localize)}}" disabled="page.wdsfCouple.tabDisabled" select="page.coupleType='wdsf'; page.competitionTable.refresh()" ng-show="page.tournament.tabWDSFAllowed">
			<!-- Search form -->
			<form name="form_wdsfCouple" style="margin: 0;" ng-hide="page.wdsfCouple.exists">
				<div class="row-fluid" style="margin-bottom: 5px;">
					<label ng-bind="'Номера классификационных книжек WDSF'|localize" style="font-weight: bold;"></label>
				</div> 
				<div class="row-fluid">
					<input type="text" style="height: 16px!important;line-height: 16px!important; width: 150px;" placeholder="{{'Номер партнера'|localize}}"   ng-model="page.wdsfCouple.man.min"/>
					<input type="text" style="height: 16px!important;line-height: 16px!important; width: 150px;" placeholder="{{'Номер партнерши'|localize}}" ng-model="page.wdsfCouple.woman.min"/>
					<button class="btn btn-small" style="margin-bottom: 10px;" ng-disabled="!form_wdsfCouple.$valid || page.wdsfCouple.processingImgVisible" ng-click="page.wdsfCouple.search(page.wdsfCouple.man.min, page.wdsfCouple.woman.min)"><i class="fa fa-search"></i>&nbsp;&nbsp;{{'Поиск'|localize}}</button>					
					<button class="btn btn-small" style="margin-bottom: 10px;" ng-disabled="!form_wdsfCouple.$dirty || page.wdsfCouple.processingImgVisible" ng-click="page.wdsfCouple.clear()"><i class="fa fa-eraser"></i>&nbsp;&nbsp;{{'Очистить'|localize}}</button>
					<img ng-show="page.wdsfCouple.processingImgVisible" style="padding: 5px 5px 13px 5px;" src="img/loader2.gif"/>
				</div>
				<div class="row-fluid" style="padding-top: 12px; padding-bottom: 2px;">
					<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Регистрация осуществляется по WDSF номерам. Поиск участников идет по базе данных "World DanceSport Federation".'|localize}}</p>
					<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Для регистрации в \"соло\" заполните только одно поле.'|localize}}</p> 
				</div>
			</form>
			<!-- Couple data -->
			<div class="row-fluid" ng-show="page.wdsfCouple.exists" >
				<form name="form_wdsfCoupleData" style="margin: 0;">
					<!-- Man -->
					<div class="span4">
						<div class="row-fluid" style="margin-bottom: 5px;">
							<label ng-bind="'Партнер'|localize"  style="font-weight: bold;" ng-hide="page.wdsfCouple.man.id == page.wdsfCouple.woman.id"></label>
							<label ng-bind="'Участник'|localize" style="font-weight: bold;" ng-show="page.wdsfCouple.man.id == page.wdsfCouple.woman.id"></label>
						</div>
						<p ng-hide="page.wdsfCouple.man.numberWDSF==''">
							<span class="spnTitle" ng-bind="'Номер WDSF'|localize"></span>: <span ng-bind="page.wdsfCouple.man.numberWDSF"></span>
						</p>
						<p><span class="spnTitle" ng-bind="'Фамилия, Имя'|localize"></span>: <span ng-bind="page.wdsfCouple.man.lastName + ' ' + page.wdsfCouple.man.firstName"></span></p>
						<div class="control-group" style="">
							<label class="control-label spnTitle" style="border: none!important;" ng-bind="('Дата рождения'|localize) + '*'"></label>
							<div class="controls">
							    <input style="width:150px" type="text" datepicker-popup="{{'d MMMM y'|localize}}" ng-model="page.wdsfCouple.man.dob" min="'1900-01-01'" show-weeks="false" ng-required="true" ng-disabled="page.wdsfCouple.fieldsDisabled"/>
							</div>
						</div>

						<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Часть данных получена от WDSF.'|localize}}</p>
						<p style="padding-bottom: 7px;">[ <font COLOR="RED"><b>!</b></font> ] {{'Заполните / измените остальные поля.'|localize}}</p>

						<button type="button" ng-show="page.wdsfCouple.btnClearVisible"    class="btn btn-small" ng-click="page.wdsfCouple.clear()"><i class="fa fa-chevron-left"></i>&nbsp;&nbsp;{{'Назад'|localize}}</button>
					    <button type="button" ng-show="page.wdsfCouple.btnBackVisible"     class="btn btn-small" ng-click="page.wdsfCouple.back()"><i class="fa fa-chevron-left"></i>&nbsp;&nbsp;{{'Назад'|localize}}</button>
					    <button type="button" ng-show="page.wdsfCouple.btnNextVisible"     class="btn btn-small" ng-click="page.wdsfCouple.next()" ng-disabled="!form_wdsfCoupleData.$valid">{{'Далее'|localize}}&nbsp;&nbsp;<i class="fa fa-chevron-right"></i></button>
					    <button type="button" ng-show="page.wdsfCouple.btnRegisterVisible" class="btn btn-small" ng-click="page.openConfirmDlg('wdsf', page.wdsfCouple.man, page.wdsfCouple.woman, page.wdsfCouple.otherInfo, page.wdsfCouple.register)" title="{{page.competitionTable.selectedItems.length==0 ? ('Выберите группы!'|localize):''}}" ng-disabled="page.competitionTable.selectedItems.length==0">
					    	<i class="fa fa-check" ng-hide="page.competitionTable.selectedItems.length==0"></i>
					    	<i class="fa fa-ban" ng-show="page.competitionTable.selectedItems.length==0"></i>
					    	&nbsp;&nbsp;{{'Регистрация'|localize}}
					    </button>
					</div>
					<!-- Woman -->
					<div class="span4" ng-hide="page.wdsfCouple.man.id == page.wdsfCouple.woman.id">
						<div class="row-fluid" style="margin-bottom: 5px;">
							<label ng-bind="'Партнерша'|localize" style="font-weight: bold;"></label>
						</div>
						<p ng-hide="page.wdsfCouple.woman.numberWDSF==''">
							<span class="spnTitle" ng-bind="'Номер WDSF'|localize"></span>: <span ng-bind="page.wdsfCouple.woman.numberWDSF"></span>
						</p>
						<p><span class="spnTitle" ng-bind="'Фамилия, Имя'|localize"></span>: <span ng-bind="page.wdsfCouple.woman.lastName + ' ' + page.wdsfCouple.woman.firstName"></span></p>
						<div class="control-group">
							<label class="control-label spnTitle" style="border: none!important;" ng-bind="('Дата рождения'|localize) + '*'"></label>
							<div class="controls">
							    <input style="width:150px" type="text" datepicker-popup="{{'d MMMM y'|localize}}" ng-model="page.wdsfCouple.woman.dob" min="'1900-01-01'" show-weeks="false" ng-required="page.wdsfCouple.man.id != page.wdsfCouple.woman.id" ng-disabled="page.wdsfCouple.fieldsDisabled"/>
							</div>
						</div>
					</div>
					<!-- Other info -->
					<div class="span4">
						<div class="row-fluid" style="margin-bottom: 5px;">
							<label ng-bind="'Дополнительная информация'|localize" style="font-weight: bold;"></label>
						</div>
						<p><span class="spnTitle" ng-bind="'Страна'|localize"></span>: <span ng-bind="page.wdsfCouple.man.otherInfo.country.name"></span></p>
							<div class="row-fluid">
								<div class="span6">
									<div class="control-group">
				            			<label class="control-label" ng-bind="('Город'|localize) + '*'"></label>
				            			<div class="controls">
				            				<input class="span12" type="text" ng-model="page.wdsfCouple.otherInfo.city" ng-disabled="page.wdsfCouple.fieldsDisabled" required></input>
				            			</div>
				        			</div>
				        		</div>
				        		<div class="span6">
									<div class="control-group">
				            			<label class="control-label" ng-bind="('Клуб'|localize) + '*'"></label>
				            			<div class="controls">
				            				<input class="span12" type="text" ng-model="page.wdsfCouple.otherInfo.club" ng-disabled="page.wdsfCouple.fieldsDisabled" required></input>
				            			</div>
				        			</div>
				        		</div>
				        	</div>
					    	<div class="control-group">
					        	<label class="control-label" ng-bind="('Тренер #1. Фамилия, Имя'|localize) + '*'"></label>
					        	<div class="controls">
					    			<input class="span12" type="text" ng-model="page.wdsfCouple.otherInfo.mainTrainer" required ng-disabled="page.wdsfCouple.fieldsDisabled"></input>
			                	</div>
					    	</div>
					    	<div class="control-group">
					        	<label class="control-label" ng-bind="('Тренер #2. Фамилия, Имя'|localize) + ''"></label>
					        	<div class="controls">
					    			<input class="span12" type="text" ng-model="page.wdsfCouple.otherInfo.otherTrainers" ng-disabled="page.wdsfCouple.fieldsDisabled"></input>
			                	</div>
					    	</div>
						<!--<p><span class="spnTitle" ng-bind="('Возрастная группа'|localize) + ' WDSF'"></span>: <span ng-bind="page.wdsfCouple.man.ageCategoryWDSFName + ' (' + page.wdsfCouple.man.minAge + ' - ' + page.wdsfCouple.man.maxAge + ')'"></span></p>-->
					</div>
					<div class="span4" ng-show="page.wdsfCouple.man.id == page.wdsfCouple.woman.id">
					</div>
				</form>
			</div>
			<div class="row-fluid" ng-show="page.wdsfCouple.btnRegisterVisible" style="padding-top: 20px; padding-bottom: 0px;">
				<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Щелчком мыши выберите группы, в которые необходимо зарегистрировать пару.'|localize}}</p>
				<p>[ <font COLOR="RED"><b>!</b></font> ] {{'В списке не отображены группы, в которых данная пара уже зарегистрирована.'|localize}} <a ng-show="page.coupleOtherInfo.id && page.coupleOtherInfo.competitionsCount > 0" href="" ng-click="page.showCoupleGroups(page.tournament.id, page.coupleOtherInfo.id)" class="cellLink" ng-bind="('Перейти к списку групп пары / участника ('|localize) + page.coupleOtherInfo.competitionsCount + ') »'"></a></p> 
			</div>
			<stcalert data="page.wdsfCouple.alert" style="margin-top: 25px;"/>
		</tab>
		<!--================================================================================================================================== -->
		<!-- 													NEW COUPLE 																	   -->
		<!--================================================================================================================================== -->
		<tab heading="{{'Регистрация других участников'|localize}}" active="page.newCouple.tabActive" title="{{page.newCouple.tabDisabled ? ('Чтобы разблокировать вкладку нажмите ″Назад″'|localize) : ('Регистрация других участников'|localize)}}" disabled="page.newCouple.tabDisabled" select="page.coupleType='new'; page.competitionTable.refresh()" ng-show="page.tournament.tabOtherAllowed">
			<div class="row-fluid">
			<form name="form_newCouple" style="margin: 0;">
				<!-- Man -->
				<div class="span4">
			    	<div class="row-fluid" style="margin-bottom: 5px;">
			    		<span ng-show="page.newCouple.type!='Solo'" style="font-weight: bold;" ng-bind="'Партнер'|localize"></span>
			    		<span ng-show="page.newCouple.type=='Solo'" style="font-weight: bold;" ng-bind="'Участник'|localize"></span>
			    	</div>
					<div class="row-fluid">
						<div class="control-group">
				            <label class="control-label" ng-bind="('Фамилия'|localize) + '*'"></label>
				            <div class="controls">
				            	<input class="span10" type="text" ng-model="page.newCouple.man.lastName" ng-disabled="page.newCouple.fieldsDisabled" required></input>
				            </div>
				        </div>
				        <div class="control-group">
				            <label class="control-label" ng-bind="('Имя'|localize) + '*'"></label>
				            <div class="controls">
				            	<input class="span10" type="text" ng-model="page.newCouple.man.firstName" ng-disabled="page.newCouple.fieldsDisabled" required></input>
				            </div>
				        </div>
				        <div class="row-fluid">
							<div class="span5">
								<div class="control-group">
						        	<label class="control-label" ng-bind="('Дата рождения'|localize) + '*'"></label>
						        	<div class="controls">
						            	<input class="span12" type="text" datepicker-popup="{{'d MMMM y'|localize}}" ng-model="page.newCouple.man.dob" show-weeks="false" min="'1900-01-01'" ng-required="true" ng-disabled="page.newCouple.fieldsDisabled"/>
						        	</div>
						    	</div>
						    </div>
						    <div class="span5">
						    	<div class="control-group" ng-show="page.newCouple.type=='Solo'">
						        	<label class="control-label" ng-bind="('Пол'|localize) + '*'"></label>
						    		<select  style="width: 100px;" ng-model="page.newCouple.soloGender" ng-disabled="page.newCouple.fieldsDisabled" ng-options="gender.code as gender.name for gender in page.genders" ng-required="page.newCouple.type=='Solo'">
           							</select>
           						</div>
						    </div>
						    <div class="span2">
						    </div>
				    	</div>
				  		<div class="control-group">
				            <div class="controls">
				            	<button type="button" ng-show="page.newCouple.btnNextVisible"     style="margin-top: 25px;" class="btn btn-small" ng-click="page.newCouple.next()" ng-disabled="!form_newCouple.$valid">{{'Далее'|localize}}&nbsp;&nbsp;<i class="fa fa-chevron-right"></i></button>
				            	<button type="button" ng-show="page.newCouple.btnBackVisible"     style="margin-top: 25px;" class="btn btn-small" ng-click="page.newCouple.back()"><i class="fa fa-chevron-left"></i>&nbsp;&nbsp;{{'Назад'|localize}}</button>
				            	<button type="submit" ng-show="page.newCouple.btnRegisterVisible" style="margin-top: 25px;" class="btn btn-small" ng-click="page.openConfirmDlg('new', page.newCouple.man, page.newCouple.woman, page.newCouple.otherInfo, page.newCouple.register)" title="{{page.competitionTable.selectedItems.length==0 ? ('Выберите группы!'|localize):''}}" ng-disabled="page.competitionTable.selectedItems.length==0">
				            		<i class="fa fa-check" ng-hide="page.competitionTable.selectedItems.length==0"></i>
				    				<i class="fa fa-ban" ng-show="page.competitionTable.selectedItems.length==0"></i>
				    				&nbsp;&nbsp;{{'Регистрация'|localize}}
				    			</button>
				    			 <label ng-show="page.newCouple.btnNextVisible" class="checkbox" style="width: 50px;display: inline-block;margin: 0 0 3px 27px;vertical-align: bottom;" >
			    					<input type="checkbox" ng-model="page.newCouple.type" ng-true-value="Solo" ng-false-value="Couple" ng-change="page.newCouple.woman={}; page.newCouple.soloGender=''">{{'Соло'|localize}}
			    				</label>
				            </div>
				        </div>
			    	</div>
				</div>
				<!-- Woman -->
				<div class="span4" ng-hide="page.newCouple.type=='Solo'">
			    	<div class="row-fluid" style="margin-bottom: 5px;">
			    		<span style="font-weight: bold;" ng-bind="'Партнерша'|localize"></span>
			    	</div>
					<div class="row-fluid">
						<div class="control-group">
				            <label class="control-label" ng-bind="('Фамилия'|localize) + '*'"></label>
				            <div class="controls">
				            	<input class="span10" type="text" ng-model="page.newCouple.woman.lastName" ng-required="page.newCouple.type!='Solo'" ng-disabled="page.newCouple.fieldsDisabled"></input>
				            </div>
				        </div>
				        <div class="control-group">
				            <label class="control-label" ng-bind="('Имя'|localize) + '*'"></label>
				            <div class="controls">
				            	<input class="span10" type="text" ng-model="page.newCouple.woman.firstName" ng-required="page.newCouple.type!='Solo'" ng-disabled="page.newCouple.fieldsDisabled"></input>
				            </div>
				        </div>
				        <div class="row-fluid">
							<div class="span5">
								<div class="control-group">
						        	<label class="control-label" ng-bind="('Дата рождения'|localize) + '*'"></label>
						        	<div class="controls">
						            	<input class="span12" type="text" datepicker-popup="{{'d MMMM y'|localize}}" min="'1900-01-01'" ng-model="page.newCouple.woman.dob" show-weeks="false" ng-required="page.newCouple.type!='Solo'" ng-disabled="page.newCouple.fieldsDisabled"/>
						        	</div>
						    	</div>
						    </div>
						    <div class="span5">
						    </div>
						    <div class="span2">
						    </div>
				    	</div>
		
			    	</div>
				</div>
				<!-- Other info -->
				<div class="span4">
			    	<div class="row-fluid" style="margin-bottom: 5px;">
			    		<span style="font-weight: bold;" ng-bind="'Дополнительная информация'|localize"></span>
			    	</div>
					<div class="row-fluid">
						<div class="row-fluid">
							<div class="span7">
								<div class="control-group">
						            <label class="control-label" ng-bind="('Страна'|localize) + ' (WDSF)*'"></label>
						            <div class="controls">
										<select class="span12 pull-right" ng-model="page.newCouple.otherInfo.country.id" ng-options="country.id as country.name for country in page.countries" ng-disabled="page.newCouple.fieldsDisabled">
			                			</select>           
			             			</div>
						        </div>
						    </div>    
						    <div class="span5">    
						        <div class="control-group">
						        	<label class="control-label" ng-bind="('Город'|localize) + '*'"></label>
						        	<div class="controls">
						    			<input class="span12" type="text" ng-model="page.newCouple.otherInfo.city" required ng-disabled="page.newCouple.fieldsDisabled"></input>
				                	</div>
						    	</div>
						    </div>
						</div>   	
		        		<div class="control-group">
				        	<label class="control-label" ng-bind="('Клуб'|localize) + '*'"></label>
				        	<div class="controls">
				    			<input class="span12" type="text" ng-model="page.newCouple.otherInfo.club" required ng-disabled="page.newCouple.fieldsDisabled"></input>
		                	</div>
				    	</div>
				    	<div class="control-group">
				        	<label class="control-label" ng-bind="('Тренер #1. Фамилия, Имя'|localize) + '*'"></label>
				        	<div class="controls">
				    			<input class="span12" type="text" ng-model="page.newCouple.otherInfo.mainTrainer" required ng-disabled="page.newCouple.fieldsDisabled"></input>
		                	</div>
				    	</div>
				    	<div class="control-group">
				        	<label class="control-label" ng-bind="('Тренер #2. Фамилия, Имя'|localize) + ''"></label>
				        	<div class="controls">
				    			<input class="span12" type="text" ng-model="page.newCouple.otherInfo.otherTrainers" ng-disabled="page.newCouple.fieldsDisabled"></input>
		                	</div>
				    	</div>
				    </div>
				</div>
				<div class="span4" ng-show="page.newCouple.type=='Solo'">
				</div>
			</form>
			</div>
			<div class="row-fluid" ng-show="page.newCouple.btnBackVisible" style="padding-top: 20px; padding-bottom: 0px;">
				<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Щелчком мыши выберите группы, в которые необходимо зарегистрировать пару.'|localize}}</p>
				<p>[ <font COLOR="RED"><b>!</b></font> ] {{'В списке не отображены группы, в которых данная пара уже зарегистрирована.'|localize}}</p> 
			</div>
			<div class="row-fluid" ng-hide="page.newCouple.btnBackVisible" style="padding-top: 20px; padding-bottom: 0px;">
				<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Поля отмеченные * обязательны для заполнения.'|localize}}</p>
				<p>[ <font COLOR="RED"><b>!</b></font> ] {{'Для регистрации в \"соло\" нажмите на переключатель.'|localize}}</p> 
			</div>
			<stcalert data="page.newCouple.alert" style="margin-top: 25px;"/>
		</tab>
	</tabset>
</div>
<!-- Competitions -->
<div class="row-fluid" style="padding-top: 10px;">
	<div class="span8">
		<strong><span ng-bind="page.competitionTable.caption"></span></strong>
	</div>
	<div class="span4">
		<div class="btn-group pull-right">
			<button type="button" class="btn btn-mini btnRadio" ng-model="pageStore.registration.grid.tableShortView" btn-radio="true" ng-bind="'Коротко'|localize" title="{{'Скрывать дополнительные столбцы'|localize}}" ng-click="page.competitionTable.setHiddenCoulumns(true)"></button>
			<button type="button" class="btn btn-mini btnRadio" ng-model="pageStore.registration.grid.tableShortView" btn-radio="false" ng-bind="'Детально'|localize" title="{{'Отображать дополнительные столбцы'|localize}}" ng-click="page.competitionTable.setHiddenCoulumns(false)"></button>
		</div>
	</div> 
</div>
<div class="row-fluid" >
	<stcgrid
		grid="pageStore.registration.grid"
	    table-class="table table-bordered table-hover"
	    caption=""
	    columns="page.competitionTable.columns"
	    items="page.competitionTable.items"
	    properties="page.competitionTable.properties"
	    update-items="page.competitionTable.loadItems(pageCurr, pageSize, sqlName, isDown, searchSqlName, searchText)"

	    page-curr="page.competitionTable.pageCurr"
	    page-total="page.competitionTable.pageTotal"
	    page-size="page.competitionTable.pageSize"
	    navigator-visible="false"
	    search-hide="false"

	    selectable="page.competitionTable.selectable"
	    selected-items="page.competitionTable.selectedItems"
	    multi-select-mode="page.competitionTable.multiSelectMode"
	    on-select="page.competitionTable.onSelect(item)"
			
		action-column-visible="false"
	    action-column-icon="'fa fa-ellipsis-h'"

	    first-row-action-icon="'fa fa-eye'"
	    first-row-action-title="'Открыть для просмотра'|localize"
	    first-row-action-method="page.competitionTable.openCompetition(item)"
	    	
		forcibly-update="page.competitionTable.forciblyUpdate"
	/>
</div>
<div class="row-fluid" ng-show="page.competitionTable.itemsStatus!=''">
	<div class="span1">
	</div>
	<div class="span10" style="text-align: center;">
		<i ng-bind="page.competitionTable.itemsStatus"></i>
	</div>
	<div class="span1">
	</div>
</div>
<div class="row-fluid" ng-hide="menu.devModeIsRelease">
	<div class="span6">
		<pre ng-hide="page.competitionTable.avialableMode">
				СТСР
				man		woman
				2864	75367 <a href="" ng-click="page.udsrCouple.man.min='2864'; page.udsrCouple.woman.min='75367';">select</a>
				2915	2890 <a href="" ng-click="page.udsrCouple.man.min='2915'; page.udsrCouple.woman.min='2890';">select</a>
				2934	50810 <a href="" ng-click="page.udsrCouple.man.min='2934'; page.udsrCouple.woman.min='50810';">select</a>
				2938	58251 <a href="" ng-click="page.udsrCouple.man.min='2938'; page.udsrCouple.woman.min='58251';">select</a>
				2974	15153 <a href="" ng-click="page.udsrCouple.man.min='2974'; page.udsrCouple.woman.min='15153';">select</a>
				2977	2962 <a href="" ng-click="page.udsrCouple.man.min='2977'; page.udsrCouple.woman.min='2962';">select</a>
				2978	44604 <a href="" ng-click="page.udsrCouple.man.min='2978'; page.udsrCouple.woman.min='44604';">select</a>
				3071	3092 <a href="" ng-click="page.udsrCouple.man.min='3071'; page.udsrCouple.woman.min='3092';">select</a>
				3072	3104 <a href="" ng-click="page.udsrCouple.man.min='3072'; page.udsrCouple.woman.min='3104';">select</a>
		</pre>
	</div>
	<div class="span6">
		<pre ng-hide="page.competitionTable.avialableMode">
				WDSF
				man		woman
				10085531 10072137 <a href="" ng-click="page.wdsfCouple.man.min='10085531'; page.wdsfCouple.woman.min='10072137';">select</a>
				10073546 10073691 <a href="" ng-click="page.wdsfCouple.man.min='10073546'; page.wdsfCouple.woman.min='10073691';">select</a>
				10064937 10064930 <a href="" ng-click="page.wdsfCouple.man.min='10064937'; page.wdsfCouple.woman.min='10064930';">select</a>
				10086246 10086247 <a href="" ng-click="page.wdsfCouple.man.min='10086246'; page.wdsfCouple.woman.min='10086247';">select</a>
				10076712 10076219 <a href="" ng-click="page.wdsfCouple.man.min='10076712'; page.wdsfCouple.woman.min='10076219';">select</a>
				10069138 10069139 <a href="" ng-click="page.wdsfCouple.man.min='10069138'; page.wdsfCouple.woman.min='10069139';">select</a>
				10050619 10050620 <a href="" ng-click="page.wdsfCouple.man.min='10050619'; page.wdsfCouple.woman.min='10050620';">select</a>
		</pre>
	</div>
</div>

<div class="modal" id="ConfirmModal" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="ConfirmLabel" aria-hidden="true" ng-show="page.confirmModalVisible">
 	<div class="modal-header">
 		<button type="button" class="close" data-dismiss="modal" aria-hidden="true"  ng-click="page.confirmModalVisible=false">×</button>
		<h4 id="ConfirmLabel" ng-bind="'Подтверждение регистрационных данных'|localize"></h4>
	</div>
	<div class="modal-body">
		<p ng-show="page.confirmData.type=='udsr' && page.confirmData.couple.man.id!=page.confirmData.couple.woman.id" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Партнер'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.man.lastName + ' ' + page.confirmData.couple.man.firstName + ', ' + ('Номер СТСР'|localize) + ' - ' + page.confirmData.couple.man.numberUDSR"></span></p>
		<p ng-show="page.confirmData.type=='udsr' && page.confirmData.couple.man.id!=page.confirmData.couple.woman.id" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Партнерша'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.woman.lastName + ' ' + page.confirmData.couple.woman.firstName + ', ' + ('Номер СТСР'|localize) + ' - ' + page.confirmData.couple.woman.numberUDSR"></span></p>
		<p ng-show="page.confirmData.type=='udsr' && page.confirmData.couple.man.id==page.confirmData.couple.woman.id" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Участник'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.man.lastName + ' ' + page.confirmData.couple.man.firstName + ', ' + ('Номер СТСР'|localize) + ' - ' + page.confirmData.couple.man.numberUDSR"></span></p>
		

		<p ng-show="page.confirmData.type=='wdsf' && page.confirmData.couple.man.id!=page.confirmData.couple.woman.id" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Партнер'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.man.lastName + ' ' + page.confirmData.couple.man.firstName + ', ' + ('Номер WDSF'|localize) + ' - ' + page.confirmData.couple.man.numberWDSF"></span></p>
		<p ng-show="page.confirmData.type=='wdsf' && page.confirmData.couple.man.id!=page.confirmData.couple.woman.id" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Партнерша'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.woman.lastName + ' ' + page.confirmData.couple.woman.firstName + ', ' + ('Номер WDSF'|localize) + ' - ' + page.confirmData.couple.woman.numberWDSF"></span></p>
		<p ng-show="page.confirmData.type=='wdsf' && page.confirmData.couple.man.id==page.confirmData.couple.woman.id" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Участник'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.man.lastName + ' ' + page.confirmData.couple.man.firstName + ', ' + ('Номер WDSF'|localize) + ' - ' + page.confirmData.couple.man.numberWDSF"></span></p>
		
		<p ng-show="page.confirmData.type=='new' && page.newCouple.type!='Solo'" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Партнер'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.man.lastName + ' ' + page.confirmData.couple.man.firstName + ', ' + page.confirmData.couple.man.dob"></span></p>
		<p ng-show="page.confirmData.type=='new' && page.newCouple.type!='Solo'" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Партнерша'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.woman.lastName + ' ' + page.confirmData.couple.woman.firstName + ', ' + page.confirmData.couple.woman.dob"></span></p>
		<p ng-show="page.confirmData.type=='new' && page.newCouple.type=='Solo'" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Участник'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.man.lastName + ' ' + page.confirmData.couple.man.firstName + ', ' + page.confirmData.couple.man.dob"></span></p>
		
		<p ng-show="page.confirmData.type=='new'" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Город, Страна'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.otherInfo.city + ', ' + page.confirmData.couple.otherInfo.country.name"></span></p>
		<p ng-show="page.confirmData.type=='new'" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Клуб'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.otherInfo.club"></span></p>
		<p ng-show="page.confirmData.type=='new'" style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Тренеры'|localize) + ':'"></span> <span ng-bind="page.confirmData.couple.otherInfo.mainTrainer + ', ' + page.confirmData.couple.otherInfo.otherTrainers"></span></p>
		<br>
		<p style="margin: 0 0 2px;"><span style="font-weight: bold;" ng-bind="('Группы'|localize) + ':'"></span></p>
		<p style="margin: 0 0 2px;" ng-repeat="cmp in page.competitionTable.selectedItems"><span ng-bind="($index+1) + '. ' + cmp.name"></span></p>
		<br>
		<p  style="margin: 0 0 2px; text-align: justify;" ng-hide="page.confirmData.type=='new'" ng-bind="'После завершения регистрации произойдет переход на страницу с группами пары, там вы сможете выбрать необходимые группы и перейти к оплате.'|localize"></p>
   		<p  style="margin: 0 0 2px; text-align: justify;" ng-show="page.confirmData.type=='new'" ng-bind="'После завершения регистрации произойдет передача данных в danceplat.ru, по прошествии некоторого времени после завершения оплаты ваши данные отобразятся в регистрационных списках.'|localize"></p>
   		<br>
   		<button type="button" class="btn btn-small" ng-click="page.confirmData.register(); page.closeConfirmDlg()"><i class="fa fa-floppy-o"></i>&nbsp;{{('Зарегистрировать'|localize)}}</button>
   		<button type="button" class="btn btn-small pull-right" ng-click="page.closeConfirmDlg()"><i class="fa fa-ban"></i>&nbsp;{{('Отмена'|localize)}}</button>
    	<br>
    </div>
</div>

<div>
	<danceplat-other-pay 
		id="danceplatOtherPay"
		
		ng-show="false"

		trn-id="page.tournament.idInternal"

		male-age="(page.newCouple.soloGender!='F') ? page.newCouple.man.dob : ''"
		male-last-name="(page.newCouple.soloGender!='F') ? page.newCouple.man.lastName : ''"
		male-first-name="(page.newCouple.soloGender!='F') ? page.newCouple.man.firstName : ''"

		female-age="(page.newCouple.soloGender=='F') ? page.newCouple.man.dob : page.newCouple.woman.dob"
		female-last-name="(page.newCouple.soloGender=='F') ? page.newCouple.man.lastName : page.newCouple.woman.lastName"
		female-first-name="(page.newCouple.soloGender=='F') ? page.newCouple.man.firstName : page.newCouple.woman.firstName"

		country="page.newCouple.otherInfo.country.name"
		city="page.newCouple.otherInfo.city"
		club="page.newCouple.otherInfo.club"
		trainer="page.newCouple.otherInfo.mainTrainer"

		competitions="page.competitionTable.selectedItems"
		hide-all="false"
		btn-name="'Оплатить на danceplat.ru'|localize"/>
</div>]]></CSP>
</Export>
